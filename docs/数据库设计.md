# ELWGLife数据库设计
========
TODO: 本文件由李大松完成


## Mysql新建一个名为"db_duty"的数据库

### 创建三个表"contacts"、"later"、"user"

> 表"user"存放的是总管的登录信息

* 1.user 

	username   password

>表user生成代码

``` CREATE TABLE `NewTable` (
`username`  char(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ,
`password`  char(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL 
)

ENGINE=InnoDB
DEFAULT CHARACTER SET=latin1 COLLATE=latin1_swedish_ci
ROW_FORMAT=COMPACT
; ```

> 表"contacts"存放的是正常轮值的卫生人员信息

* 2.contacts 

id(key) member_name   mailbox(key)  phone  grade  sex  create_time  

on_duty

>表contacts生成代码

``` CREATE TABLE `NewTable` (
`id`  tinyint(10) NOT NULL AUTO_INCREMENT ,
`member_name`  varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ,
`mailbox`  varchar(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ,
`phone`  varchar(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL ,
`grade`  varchar(10) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL ,
`sex`  varchar(2) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL ,
`create_time`  datetime(1) NOT NULL ,
`on_duty`  tinyint(1) NOT NULL COMMENT 'on_duty表示实验室成员是否为值日成员，0表示不是，1表示是值日成员。' ,
PRIMARY KEY (`id`)
)
ENGINE=InnoDB
DEFAULT CHARACTER SET=latin1 COLLATE=latin1_swedish_ci
AUTO_INCREMENT=1
ROW_FORMAT=COMPACT
; ```

> 表"later"存放的是因迟到而打扫卫生的人员信息

* 3.later
	id(key)  abnormal  create_time  id_contacts

>表later生成代码

``` CREATE TABLE `NewTable` (
`id`  tinyint(10) NOT NULL AUTO_INCREMENT ,
`abnomal`  tinyint(1) NOT NULL COMMENT 'abnormal是当天未打扫者标记值，初始为0，异常则为1' ,
`create_time`  datetime(1) NOT NULL ,
`id_contacts`  tinyint(1) NOT NULL ,
PRIMARY KEY (`id`),
FOREIGN KEY (`id_contacts`) REFERENCES `contacts` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
INDEX `idx_later` (`id_contacts`) USING BTREE 
)
ENGINE=InnoDB
DEFAULT CHARACTER SET=latin1 COLLATE=latin1_swedish_ci
AUTO_INCREMENT=1
ROW_FORMAT=COMPACT
; ```

